(this["webpackJsonptodo-app"]=this["webpackJsonptodo-app"]||[]).push([[0],[,,,,,,,,,,,,,,,function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var c=n(2),o=n(5),a=n.n(o),r=(n(15),n(7)),s=n(3),l=n(1),i=Object(c.createContext)();function u(e){var t=e.children,n=function(e,t){var n=Object(c.useState)(!0),o=Object(s.a)(n,2),a=o[0],r=o[1],l=Object(c.useState)(!1),i=Object(s.a)(l,2),u=i[0],d=i[1],j=Object(c.useState)(t),b=Object(s.a)(j,2),O=b[0],m=b[1];return Object(c.useEffect)((function(){setTimeout((function(){try{var n,c=localStorage.getItem(e);c?n=JSON.parse(c):(localStorage.setItem(e,JSON.stringify(t)),n=t),m(n),r(!1)}catch(u){d(!0),console.error(u)}}),2e3)})),{item:O,saveItem:function(t){try{localStorage.setItem(e,JSON.stringify(t)),m(t)}catch(u){d(!0),console.error(u)}},loading:a,error:u}}("TODOS_V1",[]),o=n.item,a=n.saveItem,u=n.loading,d=n.error,j=Object(c.useState)(""),b=Object(s.a)(j,2),O=b[0],m=b[1],h=Object(c.useState)(!1),f=Object(s.a)(h,2),x=f[0],p=f[1],_=o.filter((function(e){return!!e.completed})).length,v=o.length,g=[];g=O<1?o:o.filter((function(e){return e.text.toLowerCase().includes(O.toLowerCase())}));return Object(l.jsx)(i.Provider,{value:{loading:u,error:d,totalTodos:v,completedTodos:_,searchValue:O,setSearchValue:m,searchedTodos:g,handleCompleted:function(e){var t=o.findIndex((function(t){return t.id===e})),n=Object(r.a)(o);n[t].completed=!n[t].completed,a(n)},handleDelete:function(e){var t=o.findIndex((function(t){return t.id===e})),n=Object(r.a)(o);n.splice(t,1),a(n)},openModal:x,setOpenModal:p,handleAdd:function(e){var t=Object(r.a)(o);t.push({id:v+1,completed:!1,text:e}),a(t)}},children:t})}n(17);var d=function(){var e=Object(c.useContext)(i),t=e.totalTodos,n=e.completedTodos;return Object(l.jsxs)("h2",{className:"Title",children:["You completed ",n," of ",t," TODO's"]})},j=(n(18),function(){var e=Object(c.useContext)(i),t=e.searchValue,n=e.setSearchValue;return Object(l.jsx)("input",{className:"Search",type:"text",placeholder:"Search your TODO",value:t,onChange:function(e){n(e.target.value)}})}),b=(n(19),function(e){var t=e.children;return Object(l.jsx)("section",{className:"Container-list",children:Object(l.jsx)("ul",{className:"Container-list__menu",children:t})})}),O=(n(20),n(9)),m=function(e){var t=e.text,n=e.completed,c=e.handleComplete,o=e.handleDelete;return Object(l.jsxs)("li",{className:"Item ".concat(n&&"completed"),children:[Object(l.jsx)("div",{className:"Item__button Item__button--check",onClick:c,children:Object(l.jsx)(O.a,{})}),Object(l.jsx)("p",{className:"Item__description",children:t}),Object(l.jsx)("div",{className:"Item__button Item__button--close",onClick:o,children:Object(l.jsx)(O.b,{})})]})},h=n(10),f=(n(21),function(){var e=Object(c.useContext)(i),t=e.openModal,n=e.setOpenModal;return Object(l.jsx)("button",{className:"CreateTodoButton ".concat(!!t&&"Close"),onClick:function(){n((function(e){return!e}))},children:Object(l.jsx)(h.a,{})})}),x=(n(22),function(e){var t=e.children;return a.a.createPortal(Object(l.jsx)("div",{className:"Modal",children:t}),document.getElementById("modal"))}),p=(n(23),function(){var e=Object(c.useState)(""),t=Object(s.a)(e,2),n=t[0],o=t[1],a=Object(c.useContext)(i),r=a.handleAdd,u=a.setOpenModal;return Object(l.jsxs)("form",{onSubmit:function(e){e.preventDefault(),r(n),u((function(e){return!e}))},className:"Form",children:[Object(l.jsx)("label",{className:"Form__label",children:"Add a new TODO"}),Object(l.jsx)("textarea",{cols:"30",rows:"5",placeholder:"Type something...",value:n,onChange:function(e){return o(e.target.value)},className:"Form__text-area"}),Object(l.jsxs)("div",{className:"Form__buttons-container",children:[Object(l.jsx)("button",{type:"button",onClick:function(){u((function(e){return!e}))},className:"Form__button Form__button--cancel",children:"Cancel"}),Object(l.jsx)("button",{type:"submit",className:"Form__button Form__button--add",children:"Add"})]})]})}),_=(n(24),function(){return Object(l.jsx)("p",{className:"TodoError",children:"An error occurred"})}),v=(n(25),function(){return Object(l.jsx)("p",{className:"TodoEmpty",children:"Create your first TODO !"})}),g=(n(26),function(){return Object(l.jsxs)("div",{className:"TodoLoading__Container",children:[Object(l.jsx)("span",{className:"TodoLoading__Button"}),Object(l.jsx)("p",{className:"TodoLoading__Text",children:"Loading..."}),Object(l.jsx)("span",{className:"TodoLoading__Button"})]})});var C=function(){var e=Object(c.useContext)(i),t=e.error,n=e.loading,o=e.searchedTodos,a=e.handleCompleted,r=e.handleDelete,s=e.openModal;return e.setOpenModal,Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(d,{}),Object(l.jsx)(j,{}),Object(l.jsxs)(b,{children:[t&&Object(l.jsx)(_,{}),n&&Object(l.jsx)(g,{}),!n&&!o.length&&Object(l.jsx)(v,{}),o.map((function(e){return Object(l.jsx)(m,{text:e.text,completed:e.completed,handleComplete:function(){return a(e.id)},handleDelete:function(){return r(e.id)}},e.id)}))]}),!!s&&Object(l.jsx)(x,{children:Object(l.jsx)(p,{})}),Object(l.jsx)(f,{})]})};a.a.render(Object(l.jsx)(u,{children:Object(l.jsx)(C,{})}),document.getElementById("root"))}],[[27,1,2]]]);
//# sourceMappingURL=main.ea748d74.chunk.js.map